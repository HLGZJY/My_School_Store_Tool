数据表不用自己手动生成，只需要在执行相关函数时，定义过就可以了：
'''javascript
 // 5. 新用户：创建用户记录
    const addResult = await db.collection('users').add({
        openid,
        nickname: userInfo?.nickName || '微信用户',
        avatar: userInfo?.avatarUrl || '',
        role: null,  // 还未选择角色
        roleDetail: {},
        settings: {
            fontSize: 'medium',
            darkMode: false
        },
        stats: {
            readCount: 0,
            collectCount: 0,
            searchCount: 0
        },
        subscribeSources: [],
        createTime: Date.now(),
        updateTime: Date.now(),
        lastLoginTime: Date.now()
    });

    userId = addResult.id;
    isNewUser = true;
    console.log('新用户创建成功:', userId);
} else {
    // 6. 老用户：更新登录信息
    const existingUser = userQuery.data[0];
    userId = existingUser._id;

    await db.collection('users').doc(userId).update({
        nickname: userInfo?.nickName || existingUser.nickname,
        avatar: userInfo?.avatarUrl || existingUser.avatar,
        lastLoginTime: Date.now(),
        updateTime: Date.now()
    });
    console.log('老用户登录更新时间:', userId);
}
'''